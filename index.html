<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Christmas</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #050505; font-family: sans-serif; user-select: none; }
        #canvas-container { width: 100vw; height: 100vh; position: absolute; top: 0; left: 0; z-index: 1; }
        #ui-layer { position: absolute; bottom: 30px; left: 0; width: 100%; text-align: center; z-index: 100; color: white; pointer-events: none; text-shadow: 0 0 10px rgba(0,0,0,0.8); }
        h1 { margin: 0; font-weight: 300; font-size: 1.4rem; letter-spacing: 4px; }
        .loading { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; z-index: 200; text-align: center; transition: opacity 0.5s; }
    </style>

    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
            }
        }
    </script>
</head>
<body>

    <div id="loading" class="loading">正在召唤圣诞树...</div>

    <div id="ui-layer">
        <h1 id="status-text">MERRY CHRISTMAS</h1>
        <p>给你的专属星空圣诞树</p>
    </div>

    <div id="canvas-container"></div>

    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
        import { EffectComposer } from 'three/addons/postprocessing/EffectComposer.js';
        import { RenderPass } from 'three/addons/postprocessing/RenderPass.js';
        import { UnrealBloomPass } from 'three/addons/postprocessing/UnrealBloomPass.js';

        // --- 配置 ---
        const CONFIG = {
            particleCount: 15000,
            treeHeight: 22,
            baseRadius: 9.5,
            spiralLoops: 6,
            colorInside: new THREE.Color('#88ccff'),
            colorOutside: new THREE.Color('#ffffff')
        };

        let scene, camera, renderer, composer, controls, particleGroup;
        let time = 0;

        function init() {
            const container = document.getElementById('canvas-container');
            scene = new THREE.Scene();
            scene.fog = new THREE.FogExp2(0x050505, 0.0
